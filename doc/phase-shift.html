<!-- Post from http://dwsk.proboards.com/thread/404/song-standard-advancements -->

<html>
<body>

<div class="message">This thread if for technical discussion of future Advancements to the MIDI Standard and song.ini used by the game.<br>I'll try and keep a record of the details for future reference and expansion.<br><br><u>Advancements Checklist:</u><br><br><div class="spoiler_header"><a href="javascript:void(0);" onclick="$('#spoiler3731386').toggle();if($('#spoiler3731386').is(':visible'))$(this).text('SPOILER: Click to hide');else $(this).text('SPOILER: Click to show');">SPOILER: Click to hide</a></div><div class="spoiler" id="spoiler3731386" style="display: block;"><br><b><br>Open Bass - <font color="Green">PS EOF</font><br>Slider Notes - <font color="Green">PS EOF</font><br>Pro Slides - <font color="Green">PS EOF</font><br>Chord Names - <font color="Red">PS</font> <font color="Green">EOF</font><br>5 Lane Drums - <font color="Green">PS EOF</font><br>Dance Mode - <font color="Green">PS EOF</font><br>High Hat Positions - <font color="Green">PS EOF</font><br>Rimshots - <font color="Green">PS EOF</font><br>Drum Velocities - <font color="Red">PS EOF</font><br></b><br></div><br><br><u>song.ini Advancements:</u><br><br><div class="spoiler_header"><a href="javascript:void(0);" onclick="$('#spoiler2976819').toggle();if($('#spoiler2976819').is(':visible'))$(this).text('SPOILER: Click to hide');else $(this).text('SPOILER: Click to show');">SPOILER: Click to hide</a></div><div class="spoiler" id="spoiler2976819" style="display: block;"><br>video_loop - If true background video will loop<br>rating - Song Rating Value ( integer )<br>star_power_note - Defines SP Phrase Note ( integer )<br>five_lane_drums - Indicates Basic Drums Are 5 Lane ( true / false )<br>drum_fallback_blue - Sets 5 to 4 Lane Drums Fallback Note ( true / false )<br>real_keys_lane_count_right - RH Keys Range ( integer )<br>real_keys_lane_count_left - LH Keys Range ( integer )<br>real_guitar_tuning - Guitar Tuning ( 0 0 0 0 0 0 "Standard tuning" )<br>real_bass_tuning - Bass Tuning ( 0 0 0 0 0 0 "Standard tuning" )<br>hopo_frequency - Ticks threshold for auto HOPO generation ( integer )<br>track - The track number from an album ( integer )<br><br><u>Sysex Features:</u><br>sysex_slider - Systex Slider ( true / false )<br>sysex_pro_slide - Systex Pro Slides ( true / false )<br>sysex_high_hat_ctrl - Systex High Hat Positions ( true / false )<br>sysex_rimshot - Systex Snare Rimshots ( true / false )<br>sysex_open_bass - Systex Open Strum ( true / false )<br><br><b>Freestyle SFX Types:</b><br>kit_type - Drums<br>guitar_type - Guitar<br>bass_type - Bass<br>keys_type - Keys<br><br><b>Difficulty Tags:</b><br>diff_keys - Normal Keys Difficulty<br>diff_drums_real - Real Drums Difficulty<br>diff_bass_real - Real Bass Difficulty<br>diff_guitar_real - Real Guitar Difficulty<br>diff_keys_real - Real Keys Difficulty<br>diff_vocals_harm - Harmony Vocals Difficulty<br>diff_dance - Dance Difficulty<br>diff_drums_real_ps - Real Drums Difficulty<br>diff_keys_real_ps - Real Keys Difficulty<br>diff_guitar_coop - Guitar Co-op Difficulty<br>diff_rhythm - Guitar Rhythm Difficulty<br><br></div><br><br><u>Dance Mode Standard:</u><br><div class="spoiler_header"><a href="javascript:void(0);" onclick="$('#spoiler9816718').toggle();if($('#spoiler9816718').is(':visible'))$(this).text('SPOILER: Click to hide');else $(this).text('SPOILER: Click to show');">SPOILER: Click to hide</a></div><div class="spoiler" id="spoiler9816718" style="display: block;"><br><b>Track Name: PART DANCE</b><br><br>Skill sections seperated by a single octave begining at a octave lower than the legacy charts to allow for All 5 Stepmania Difficulties<br><br><b>SKILLS:</b><br>Beginner     48-59<br>Easy         60-71<br>Medium       72-83<br>Hard         84-95<br>Challenge    96-107<br><br><b>Notes relative to skill base:</b><br>Lane 1          0 LEFT<br>Lane 2          1 DOWN<br>Lane 3          2 UP<br>Lane 4          3 RIGHT<br>Lane 5          4<br>Lane 6          5<br>Lane 7          6<br>Lane 8          7<br>Lane 9          8<br>Lane 10         9<br><br><b>Example:</b><br>Medium Lane 3 (UP) Note would be Note 74.<br><br>Hold Notes represented like RB sustains. (note that extended sustains are used often)<br><br><b>Channel Numbers For Notes:</b><br>0     Normal Note<br>1     Mine<br>2     Lift<br>3     Roll<br><br><b>Velocities:</b><br>127     Normal Note<br></div><br><br><u>Sysex Message Format:</u><br><br><div class="spoiler_header"><a href="javascript:void(0);" onclick="$('#spoiler3710222').toggle();if($('#spoiler3710222').is(':visible'))$(this).text('SPOILER: Click to hide');else $(this).text('SPOILER: Click to show');">SPOILER: Click to hide</a></div><div class="spoiler" id="spoiler3710222" style="display: block;"><br><b>Message Format:</b><br>0xF0 (MIDI identifier for Sysex)<br>Variable length value (This message is 8 bytes long at present)<br>3 bytes: 'P','S','\0'<br>1 byte: (Message ID: 0 = phrase)<br>1 byte: (Difficulty ID: 0 = Easy, 1 = Medium, 2 = Hard, 3 = Expert, 255 = All)<br>1 byte: (Phrase ID: 1 = Open strum bass)<br>1 byte: (Phrase status: 0 = Phrase stop, 1 = Phrase start)<br>1 byte: 0xF7 data byte ("End of Sysex")<br><br><u>Phrase ID's</u><br>1 - Open Strum Bass - Converts Green Notes To Open<br>2 - Pro guitar slide up - Converts Notes To Slide Up<br>3 - Pro guitar slide down - Converts Notes To Slide Down<br>4 - Slider / Tapable Notes - All Notes To Slider<br>5 - High Hat Open - Converts Yellow Cymbals To Open <br>6 - High Hat Pedal - Converts Yellow Cymbals To Foot Pedal<br>7 - Snare Rimshot - Converts Red Notes To Rimshots<br>8 - High Hat Sizzle - Converts Yellow Cymbals To Sizzle<br>9 - Palm Muted - Converts All Notes To Palm Muted<br>10 - Vibrato - Converts All Notes To Vibrato<br>11 - Pro Guitar Harmonic - Guitar Harmonic Note *<br>12 - Pro Guitar Pinch Harmonic - Guitar Pitch Harmonic Note *<br>13 - Pro Guitar Bend - Guitar Bend Note *<br>14 - Pro Guitar Accent -  Guitar Accent Note *<br>15 - Pro Guitar Pop - Guitar Pop Note *<br>16 - Pro Guitar Slap - Guitar Slap Note*<br>17 - Yellow Tom + Cymbal - Duplicates Yellow Note to both Cymbal and Tom *<br>18 - Blue Tom + Cymbal - Duplicates Blue Note to both Cymbal and Tom *<br>19 - Green Tom + Cymbal - Duplicates Green Note to both Cymbal and Tom *<br><br>* Currently Only Supported By EOF and not Phase Shift<br><br></div><br><br><u>Split Audio File Format</u><br><br><div class="spoiler_header"><a href="javascript:void(0);" onclick="$('#spoiler6578465').toggle();if($('#spoiler6578465').is(':visible'))$(this).text('SPOILER: Click to hide');else $(this).text('SPOILER: Click to show');">SPOILER: Click to hide</a></div><div class="spoiler" id="spoiler6578465" style="display: block;"><br>These are all self explanatory:<br>drums.ogg - Full Drum Mix<br>rhythm.ogg - Bass Guitar / Rhythm Guitar<br>guitar.ogg - Guitar / Coop Guitar<br>keys.ogg - Keys<br>vocals.ogg - Normal Vocal Mix<br>song.ogg - All Other Song Audio<br>crowd.ogg - Crowd Audio<br><br><b>VOCALS</b><br>To correctly support harmony vocals we need to allow for seperate audio and as such:<br>vocals_1.ogg - Lead Vocals<br>vocals_2.ogg - Backing Vocals<br><br><b>DRUMS</b><br>If the game detects all 4 split drum audio tracks in the song folder then it will assume it's using the Guitar Hero Method.<br>If it only detects 3 then it will assume it's using the Rockband Method.<br>I will add some song.ini tags to overide this at some point but for now this should do fine unless someone has any objections.<br><br>NOTE: If there are not any split audio tracks found it will revert back to drums.ogg<br><br><b>Guitar Hero Method</b><br>drums_1.ogg - Kick Drum<br>drums_2.ogg - Snare Drum<br>drums_3.ogg - Cymbals<br>drums_4.ogg - Toms<br><br><b>Rockband Method</b><br>drums_1.ogg - Kick Drum<br>drums_2.ogg - Snare Drum<br>drums_3.ogg - Toms and Cymbals<br><br>I would reccomend that you include vocals.ogg and drums.ogg even if you have split Drum and Vocal audio. This will allow for backwards compatibility for FOF and also allow the option to disable the split audio if you so choose.<br></div><br><br><u>Real Keys MIDI Format</u><br><br><div class="spoiler_header"><a href="javascript:void(0);" onclick="$('#spoiler4480143').toggle();if($('#spoiler4480143').is(':visible'))$(this).text('SPOILER: Click to hide');else $(this).text('SPOILER: Click to show');">SPOILER: Click to hide</a></div><div class="spoiler" id="spoiler4480143" style="display: block;">In general it will use the RB method with a few additions.<br><br><u>MIDI TRACK NAMES</u><br><br>Expert = <b>PART REAL_KEYS_PS_X</b><br>Hard = <b>PART REAL_KEYS_PS_H</b><br>Medium = <b>PART REAL_KEYS_PS_M</b><br>Easy = <b>PART REAL_KEYS_PS_E</b><br><br><u>NOTE POSITIONS</u><br><br>Notes will range <b>88</b> keys from <b>A1</b> ( note <b>21</b> ) to <b>C9</b> ( note <b>108</b> ).<br><br><b>Right Hand</b> notes will be marked with channel <b>0</b>.<br><b>Left Hand</b> notes will be marked with channel <b>1</b>.<br><br><u>SHIFT MARKERS</u><br><br>The RB system uses the first octave to set the base note of the display.<br>However, we need the ability to set both left and right hand markers along with the octave.<br><br>Instead of this we will use <b>C1</b> ( note <b>12</b> ) for the <b>Left Hand</b> and <b>C#1</b> ( note <b>13</b> ) for the <b>Right Hand</b>. Then Velocity of either marker will define the note directly ( <b>21-108</b> ).<br><br><u>LANE COUNT</u><br><br>Phase Shift will allow the charter to define the number of lanes which work well for the song. The Shift Markers will be tailored for the specified Lane Count. Though Phase Shift will allow for "player specific" Lane Counts, it will only let the player choose a Lane Count which is greater than or equal to that defined by the charter.<br><br>Even though the Lane Count value can be whatever the charter wants, it would be advisable that charters try and keep to the following counts:<br><br>13 - This is 1 octave with 2 C notes.<br>18 - This is the RB count and is the max hand span on a piano.<br>25 - This is 2 octave swith 3 C notes.<br><br><u>This value will be defined in the song.ini as follows:</u><br>real_keys_lane_count_left = x<br>real_keys_lane_count_right = x<br><br><u>Please Note:</u><br>It is best to keep Lane Shifting to a minimum! If by adding a couple of extra lanes it reduces the amount of shifts, it would be advisable to break the above standards. However, you also want to chart with the least Lanes possible. Striking a good ballance between these 2 values will be very important to the charts playability.</div></div>

</body>
</html>
