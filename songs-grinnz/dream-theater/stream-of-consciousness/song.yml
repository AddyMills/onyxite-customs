metadata:
  title: Stream of Consciousness
  file-include: ../../../albums/train-of-thought.yml
  track-number: 6
  author: Grinnz, Mazegeek999, Onyxite
  key: C# minor
  # guitar pretends to be D minor,
  # so we use accidental flip to have it use flat chord names.
audio:
  album-track:
    md5: 8f1a01eac65add10b94efa1dd41fa32e
    frames: 29823360
  album-vacant:
    md5: 9211f41070f889aaa468008349f5efdf
    frames: 7822164
  hihat:
    file-path: ../../../sound/hihat-foot.wav
  drumcam-band:
    md5: 694c99e4867e4a4691a963d92a77d432
    frames: 192898560
    rate: 48000
  drumcam-drums:
    md5: 7f168a3c9c00b00374910d8c7d32e63e
    frames: 192898560
    rate: 48000
  drumcam-band-expr:
    expr:
      drop:
      - frames: 117872257
      - drumcam-band
  drumcam-drums-expr:
    expr:
      gain:
      - -0.631
      - drop:
        - frames: 449
        - stretch:
          - 1.000007608605554
          - drop:
            - frames: 117872257
            - take:
              - frames: 150341462
              - drumcam-drums
plans:
  album:
    countin:
      &countin
      0|2: hihat
      0|4: hihat
      1|1: hihat
      1|2: hihat
      1|3: hihat
      1|4: hihat
      # changed Grinnz's 5/4 countin to 4/4
    song:
      fade:
      - start
      - 3
      - concatenate:
        - take:
          - end
          - 4.979
          - album-vacant
        - album-track
  drumcam:
    countin: *countin
    song:
      mix:
      - mask:
        - [vacant]
        - &vacant-to-stream
          - center: 0
            tag: vacant
          - center: 5.02
            fade: 0.09
            tag: stream
        - fade:
          - start
          - 3
          - drop: ['2:52.303', album-vacant]
      - mask:
        - [stream]
        - *vacant-to-stream
        - take:
          - '11:21.312'
          - pad:
            - 4.839
            - resample:
                gain:
                - 3.78
                - mix:
                  - drumcam-band-expr
                  - take:
                    - '11:02.160'
                    - drumcam-drums-expr
    parts:
      drums:
        take:
        - '11:07'
        - pad:
          - 4.839
          - resample:
              gain:
              - -3.6
              - drumcam-drums-expr
parts:
  drums:
    drums:
      difficulty: 7
      layout: flip-yb-toms
  keys:
    grybo:
      difficulty: 7
    pro-keys:
      difficulty: 7
  guitar:
    grybo:
      difficulty: 7
    pro-guitar:
      difficulty: 7
      tuning: [0, 0, 0, 0, 0, 0]
      tuning-global: -1 # Eb standard
  bass:
    grybo:
      difficulty: 5
    pro-guitar:
      difficulty: 6
      tuning: [-5, -5, -5, -5, -4] # EADGB -> BEADG
targets:
  rb3:
    game: rb3
    plan: drumcam
  rb3-2x:
    game: rb3
    2x-bass-pedal: true
    plan: drumcam
  ps:
    game: ps
    plan: drumcam
